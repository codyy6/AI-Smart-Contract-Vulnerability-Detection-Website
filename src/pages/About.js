import React, { useState, useEffect } from 'react';
import { useWallet } from '../components/Wallet';
import { useNavigate } from 'react-router-dom';
import Header from '../components/Header';
import './About.css';
import Cody from '../Cody.png';
import Vinesh from '../Vinesh.png';
import Vinothini from '../Vinothini.png';

const About = () => {
  const navigate = useNavigate();
  const { setAccount } = useWallet();

  useEffect(() => {
    const fetchSelectedAddress = async () => {
      try {
        const selectedAddress = await window.ethereum.request({
          method: 'eth_requestAccounts',
        });
        if (selectedAddress && selectedAddress.length > 0) {
          setAccount(selectedAddress[0]);
        } else {
          navigate('/');
        }
      } catch (error) {
        console.error(error);
        navigate('/');
      }
    };

    fetchSelectedAddress();
  }, [navigate, setAccount]);

  return (
    <div>
      <Header />
      <div className='profile'>
        <div className='personal-profile'>
          <img src={Vinesh} alt="dropdown icon" className='profile-pic'/>
          <p className='profile-name'>Prof. Ir. Eur. Ing. Ts. Dr. Vinesh Thiruchelvam</p>
          <p className='profile-position'>Professor @ Asia Pacific University of Technology & Innovation</p>
          <p className='profile-role'>Main Supervisor</p>
          
        </div>
        <div className='personal-profile'>
          <img src={Cody} alt="dropdown icon" className='profile-pic'/>
          <p className='profile-name'>Cody Liew Chern Jin</p>
          <p className='profile-position'>BSc (Hons) Artificial Intelligence</p>
          <p className='profile-role'>Researcher</p>
        </div>
        <div className='personal-profile'>
          <img src={Vinothini} alt="dropdown icon" className='profile-pic'/>
          <p className='profile-name'>Assoc. Prof. Dr. Vinothini A/P Kasinathan (Ms.)</p>
          <p className='profile-position'>Associate Professor @ Asia Pacific University of Technology & Innovation</p>
          <p className='profile-role'>2nd Supervisor</p>
        </div>
      </div>


      <div>
        <p className='heading'>Introduction</p>
        <p className='content'>AIditVerse aims to discover new AI models that can provide a more accurate prediction compared to the available system in the current market or research. It tries to help smart contract developers in developing safer codes to protect usersâ€™ funds and prevent more vulnerable codes to be published in the blockchain.</p>
        <p className='content'>In this system, it will only detect one vulnerability which is re-entrancy to serve as a demonstration on how it will work with other vulnerabilities existing. It is crucial to note that this system does not help the code to comply with best code practices such as gas optimization or secure coding patterns.</p>
        <p className='content'>A comparison between the AI models used to build the vulnerability detection with the models done by other researchers were compared to understand the difference between the models and how has the model in this system improved compared to previous models. The strength and weaknesses of each model will be displayed for a clearer comparison. In this project and research, Feedforward Neural Network (FNN), Graph Neural Network (GNN), Back Propagation Neural Network (BPNN) and Random Forest (RF) are utilized.</p>
        <p className='content'>While building these AI models, parameter tuning was done to search for the optimal settings. Different parameters such as learning rate, number of epochs, number of hidden layers, and number of nodes in each hidden layers were used for neural network models, while n estimators, max depth, and minimum samples split were used for random forest. These AI models have gone through grid search to find for the optimal parameters.</p>
      </div>


      <div>
        <p className='heading'>Result</p>
        <div className="results-table">
          <table>
            <thead>
              <tr>
                <th>Model</th>
                <th>Precision</th>
                <th>Recall</th>
                <th>F1-score</th>
                <th>Accuracy</th>
                <th>Time Consumed per fit (minutes)</th>
                <th>Best Model File Size (kb)</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>FNN</td>
                <td>81.48%</td>
                <td>93.26%</td>
                <td>87.83%</td>
                <td>93.38%</td>
                <td>3.4859</td>
                <td>1134</td>
              </tr>
              <tr>
                <td>GNN</td>
                <td>79.84%</td>
                <td>96.08%</td>
                <td>87.21%</td>
                <td>92.93%</td>
                <td>2.6213</td>
                <td>270</td>
              </tr>
              <tr>
                <td>BPNN</td>
                <td>81.45%</td>
                <td>94.46%</td>
                <td>87.69%</td>
                <td>93.31%</td>
                <td>2.9009</td>
                <td>2262</td>
              </tr>
              <tr>
                <td>RF</td>
                <td>80.96%</td>
                <td>97.97%</td>
                <td>88.66%</td>
                <td>93.71%</td>
                <td>3.8426</td>
                <td>57940</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  );
};

export default About;
